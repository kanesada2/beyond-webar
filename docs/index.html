<!DOCTYPE html>
<html lang="ja-jp" class="h-full">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ジンセキコウゲントクサンヒンセンター</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <link rel="stylesheet" href="./output.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
    <script src="TemplateData/UnityProgress.js"></script>
    <script src="Build/UnityLoader.js"></script>
    <script>
      var unityInstance = UnityLoader.instantiate("unityContainer", "Build/docs.json", {onProgress: UnityProgress});
    </script>
  </head>
  <body class="h-full">
    <div class="flex min-h-full justify-center">
      <div class="w-full min-h-full max-w-screen-xl text-slate-50 bg-gradient-to-b from-[#09203f] to-[#537895] font-retro" x-data="{ tab: 'notice'}" x-effect="if(tab=='game')unityInstance.SetFullscreen(1);">
        <div class="flex flex-col min-h-full p-4 overflow-scroll" x-show="tab == 'notice'">
          <main class="flex-grow">
            <h1 class="text-3xl font-bold">ジンセキコウゲントクサンヒンセンター</h1>
            <div class="flex justify-center mt-8">
              <img src="./img/poster.png" width="560">
            </div>
            <h2 class="mt-8 text-2xl">概要</h2>
            <div class="p-2">
              最近、全国で神石高原町が大ブームに！？<br>
              あなたの働く「神石高原特産品センター」では、今日も注文の電話が鳴りっぱなし。<br>
              倉庫番ロボットくんに指示を出して、注文された特産品を素早く的確に搬出口に届けよう！<br>
              未達成の注文が11個溜まるとゲームオーバー！
            </div>
            <h2 class="text-2xl">注意事項</h2>
            <ul>
              <li class="p-2">
                <h3 class="text-xl">権限を許可！</h3>
                <div class="p-2">
                  iOS（iphone,ipad）でプレイする場合は、下のボタンを押して「許可」を選択してからプレイしてください。<br>
                  ※Androidの場合は押しても何も起こりません
                  <div class="p-2">
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" id="request_permission">
                      ここを押して「許可」
                    </button>
                  </div>
                  
                </div>
              </li>
              <li class="p-2">
                <h3 class="text-xl">広いところで！</h3>
                <div class="p-2">
                  スマホやタブレットを構えたまま周りをくるくると見回して遊ぶゲームです。<br>
                  プレイの際は、周囲の安全に気を付けながら十分なスペースのある場所で遊んでください。
                </div>
              </li>
              <li class="p-2">
                <h3 class="text-xl">タテ画面で！</h3>
                <div class="p-2">
                  スマホ、タブレットを必ずタテに向けた状態にしてプレイしてください（自動回転もオフにしておく方がいいかも？）
                </div>
              </li>
              <li class="p-2">
                <h3 class="text-xl">音が出ます！</h3>
                <div class="p-2">
                  音が出るゲームです。<br>
                  効果音がプレイのヒントにもなるので、音量も適切に設定してプレイしてください。
                </div>
              </li>
            </ul>
            <span class="font-bold">「次へ」を押して「あそびかた」へ！</span>
          </main>
          <footer class="w-full flex justify-end mt-4">
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" @click="tab = 'tutorial'">
              次へ &gt;
            </button>
          </footer>
        </div>
        <div class="flex flex-col min-h-full p-4 overflow-scroll" x-show="tab == 'tutorial'">
          <main class="flex-grow">
            <h2 class="text-2xl">あそびかた</h2>
            <div class="mt-8" style="position: relative;width: 100%;padding-top: 56.25%;">
              <iframe style="position: absolute;top: 0;right: 0;width: 100%;height: 100%;" width="560" height="315" src="https://www.youtube.com/embed/MAvMe4COmyg?si=kWZKA0bwM6JWuLuV" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
          </main>
          <footer class="w-full flex justify-between mt-4">
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" @click="tab = 'notice'">
              &lt; 前へ
            </button>
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" @click="tab = 'game'">
              次へ &gt;
            </button>
          </footer>
        </div>
        <div class="flex flex-col min-h-full p-4 overflow-scroll" x-show="tab == 'game'">
          <main class="flex-grow h-full">
            <div class="webgl-content h-full">
              <div id="unityContainer" class="w-screen h-4/5"></div>
              <div class="footer">
                <div class="webgl-logo"></div>
                <div class="fullscreen" onclick="unityInstance.SetFullscreen(1)"></div>
              </div>
            </div>
          </main>
          <footer class="w-full flex justify-between mt-4">
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" @click="tab = 'tutorial'">
              &lt;前へ
            </button>
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" @click="tab = 'credit'">
              次へ &gt;
            </button>
          </footer>
        </div>
        <div class="flex flex-col min-h-full p-4 overflow-scroll" x-show="tab == 'credit'">
          <main class="flex-grow">
             <h2 class="text-2xl">クレジット</h2>
             <h3 class="text-xl m-2">SE</h3>
             <ul class="m-4">
                <li><a target="blank" rel="noopener" href="https://soundeffect-lab.info/" class="underline">効果音ラボ</a></li>
                <li><a target="blank" rel="noopener" href="https://otologic.jp/" class="underline">OtoLogic</a></li>
                <li><a target="blank" rel="noopener" href="https://www.springin.org/" class="underline">Springin</a></li>
                <li><a target="blank" rel="noopener" href="https://dova-s.jp/" class="underline">DOVA-SYNDROME</a></li>
             </ul>
             <h3 class="text-xl m-2">BGM</h3>
             <ul class="m-4">
                <li><a target="blank" rel="noopener" href="https://noiselessworld.net/"  class="underline">『ジェットペンギン2号』-騒音のない世界</a></li>
             </ul>
          </main>
          <footer class="w-full flex justify-start mt-4">
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" @click="tab = 'game'">
              &lt;前へ
            </button>
          </footer>
        </div>
      </div>
    </div>
    
    <script type="text/javascript">
      
      // ②ボタン押下時のアクションを追加
      document.getElementById("request_permission").addEventListener("click", function(){
        if (
          DeviceOrientationEvent &&
          DeviceOrientationEvent.requestPermission &&
          typeof DeviceOrientationEvent.requestPermission === 'function'
        ) {
          DeviceOrientationEvent.requestPermission();
          }
        })
      </script>
  </body>
</html>
